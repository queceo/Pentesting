import  importlib
from threading import Thread
import subprocess
import sys

class Task:
    status = ['idle',''];
    name = [];
    thread = 0;
    
    def startScript(self):
        self.thread.start();
        
    def __init__(self, scriptname):
        self.name = scriptname;
        
        self.thread = Thread(target = self.function);

    def getStatus(self):
        return self.thread.is_alive();

    def getResult(self):
        if self.thread.is_alive():
            print "Still Running";
        else:
            return self.status[1];

    def function(self):
        self.status[0] = "Running";
        try:
            self.status[1] = subprocess.check_output(self.name,shell=True);
        except:
            self.status[1] = "Error",sys.exc_info()[0];
        self.status[0] = "Done";

    def getName(self):
        return ' '.join(self.name);

    
    
